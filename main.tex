\documentclass[11pt]{report}
\usepackage{amsfonts,amsthm,amsmath}
\usepackage{fullpage}
\usepackage{complexity}
\usepackage{graphicx}
\usepackage{tocloft}
\usepackage{enumerate}
\usepackage{collect}		% for problem sets, exercises collection

\usepackage{xcolor}
\usepackage{color}
\definecolor{delta}{rgb}{0,0.2,0}
\definecolor{gamma}{rgb}{0,0,0.2}
\definecolor{beta}{rgb}{0.2,0,0}
\definecolor{alpha}{rgb}{0.8,0,0}

\usepackage{amssymb}
\usepackage{scribe-book}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{todonotes}
\usepackage[linkcolor=blue,colorlinks=true]{hyperref}
\usepackage{hypcap}
\renewcommand{\E}{{\mathbb E}}

\newcounter{todocounter}
\newcommand{\todonum}[2][]{\stepcounter{todocounter}\todo[#1]{\thetodocounter: #2}}
\newcommand{\jsay}[1]{\todonum[inline,color=red!20]{\small JS says: #1}}

\newcounter{excount}
\setcounter{excount}{0}
\theoremstyle{plain}
\newtheorem{ex}            [excount]{Exercise}  % modified to use with collect
                                                % package

%%%%%%%%%%%%%%%%%%%% Exercise and pset macros (start) %%%%%%%%%%%%%%%%%%%%%%%5
% For problem set back reference.
\def\psetbackref{1}

% For exercise
\definecollection{ex.tmp}
\makeatletter
\newenvironment{exercise}
    {\@nameuse{collect*}{ex.tmp}
		  {\begin{ex}}
		    {\end{ex}}{}{}
    }{\@nameuse{endcollect*}}
\makeatother

% For ps1 
\definecollection{ps1.tmp}
\makeatletter
\newenvironment{show-ps1}[1]
    {\@nameuse{collect*}{ps1.tmp}
	    {\ifthenelse{ \equal{\psetbackref}{1} }{\label{prob:#1}}{}} {}
	    {\item \label{#1} (See Problem~\ref{prob:#1})} {}
    }{\@nameuse{endcollect*}}
\makeatother

\makeatletter
\newenvironment{ps1}
    {\@nameuse{collect}{ps1.tmp}
		{\item}{}
    }{\@nameuse{endcollect}}
\makeatother

%%% For ps2
\definecollection{ps2.tmp}
\makeatletter
\newenvironment{show-ps2}[1]
    {\@nameuse{collect*}{ps2.tmp}
		    {}
		    {}
	    {\item \label{#1}}{}
    }{\@nameuse{endcollect*}}
\makeatother

\makeatletter
\newenvironment{ps2}
    {\@nameuse{collect}{ps2.tmp}
		{\item}{}
    }{\@nameuse{endcollect}}
\makeatother


%%%%%%%%%%%%%%%%%%%% Exercise and pset macros (end) %%%%%%%%%%%%%%%%%%%%%%%%%5



%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Lecture specific macros % 
\newcommand{\cgi}{{\sf Color-GI}}
\newcommand{\compiso}{{\sf COMPUTE-ISO}}
\newcommand{\gi}{\mathcal{GI}}
\newcommand{\ga}{\mathcal{GA}}
\newcommand{\setstab}{ {\sf SetStab}}
\newcommand{\pointstab}{ {\sf PointStab}}
\newcommand{\groupintr}{ {\sf GroupInter}}

%%%%%%%%%%%%%%%%%%%%%%



%\newcommand{\N}{\mathbb{N}}
% Shows lecture titles and sections. Set 0 to list only chapters.
\setcounter{tocdepth}{2}

\begin{document}
\thispagestyle{empty}

\begin{flushright}
\vspace*{3cm}
\makeatletter 
\vskip 10\p@ 
\hrule height 2pt
\vskip 2\p@
\hrule height 1pt
\vskip 11\p@
{\huge Lecture Notes on}\\[3ex]
{\Huge \textbf{Algorithmic Algebra}} 
\end{flushright}

\makeatletter 
\vskip 10\p@ 
\hrule height 2pt
\vskip 2\p@
\hrule height 1pt
\vskip 60\p@
\makeatother


\begin{flushleft}
{\large Jayalal Sarma\\ 
Department of Computer Science and Engineering\\
IIT Madras, Chennai 600036 \\[2ex]
Draft---\today\ and forever
}
\end{flushleft}

\newpage
\pagenumbering{roman}  % Roman numbering in intro portion.
\input{preface}
\newpage
\listoftodos

\newpage
\listofscribe          % For automatic scribe list generation.

%\newpage
%\listofinstr
\newpage
\tableofcontents

\newpage 
\pagenumbering{arabic}  % Arabic page numbering for lectures.
%\part{Introduction, Motivation and the Language}
\newpage \setcounter{page}{1} 
\input{lecture-01.tex}
\input{lecture-02.tex}
\input{lecture-03.tex}
\input{lecture-04.tex}
\input{lecture-05-06.tex}
\input{lecture-07-08.tex}
\input{lecture-09-10.tex}
\input{lecture-11-12.tex}
\input{lecture-13-14.tex}
\input{lecture-15.tex}
\input{lecture-16-17.tex}
\input{lecture-18-19.tex}
\input{lecture-20.tex}
\input{lecture-21-22.tex}
\input{lecture-23-24.tex}
\input{lecture-25-26.tex}
\input{lecture-27-28-29.tex}
\input{lecture-30.tex}
\input{lecture-31.tex}
\input{lecture-32.tex}
\input{problemsets.tex}
%\def\psnumber{\theproblemsetcounter}
%\input{problemsets.tex}
%\stepcounter{problemsetcounter}
%\input{problemsets.tex}
%\def\psnumber{0}
%\input{problemsets.tex}

\newpage
\section*{Exercises}
\setcounter{excount}{0}
\includecollection{ex.tmp}

% Convention : Call all problem set collection names with psXX.tmp
% This helps in managing the auxillary files created by collect package.

% Give back reference to problems in lectures.
\def\psetbackref{0}

\newpage
\section*{Problem Set \#1}
\begin{enumerate}[(1)]
\includecollection{ps1.tmp}
\end{enumerate}

\newpage
\section*{Problem Set \#2}
\begin{enumerate}[(1)]
\includecollection{ps2.tmp}
\end{enumerate}

\end{document}
